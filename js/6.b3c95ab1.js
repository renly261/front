(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"3dfe":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"shadow-2 rounded-borders",staticStyle:{height:"100vh"},attrs:{id:"userManage",view:"lHh Lpr lff",container:""}},[a("q-header",{staticClass:"bg-cyan-8",attrs:{id:"header",elevated:""}},[a("q-toolbar",[e.drawer?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),e.drawer?e._e():a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_forward"},on:{click:function(t){e.drawer=!e.drawer}}}),a("q-toolbar-title",[e._v("使用者後台")])],1)],1),a("q-drawer",{attrs:{id:"drawer","show-if-above":"",width:200,breakpoint:700,side:"left"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("q-img",{staticClass:"absolute-top",staticStyle:{height:"150px",width:"100%"},attrs:{src:"https://cdn.quasar.dev/img/material.png"}},[a("div",{staticClass:"absolute-bottom bg-transparent"},[a("q-avatar",{staticClass:"q-mb-sm",attrs:{size:"56px"}},[a("q-img",{staticStyle:{height:"56px"},attrs:{src:this.image}})],1),a("div",{staticClass:"text-weight-bold"},[e._v(e._s(this.account))]),a("div",[e._v(e._s(this.email))])],1)]),a("q-scroll-area",{staticStyle:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},[a("q-list",{attrs:{padding:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"userMemberManage"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"inbox"}})],1),a("q-item-section",[e._v("個人資料")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"userOrderManage"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"star"}})],1),a("q-item-section",[e._v("訂單管理")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{color:"black"},attrs:{clickable:"",to:"/"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"send"}})],1),a("q-item-section",[e._v("回到首頁")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:e.logout}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"drafts"}})],1),a("q-item-section",[e._v("登出")])],1)],1)],1)],1),a("q-page-container",[a("vue-page-transition",{attrs:{name:"fade-in-right"}},[a("router-view")],1)],1)],1)},i=[],s=a("c973"),n=a.n(s),o=(a("99af"),a("96cf"),{name:"UserManage",data:function(){return{drawer:!1,image:"",account:"",email:""}},methods:{logout:function(){var e=this;return n()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.delete("/users/logout",{headers:{authorization:"Bearer "+e.$store.state.user.jwt.token}});case 3:e.$swal({icon:"success",title:"成功",text:"登出成功"}),e.$store.commit("user/logout"),"/"!==e.$route.path&&e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"登出失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){var e=this;return n()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/users/",{headers:{authorization:"Bearer "+e.$store.state.user.jwt.token}});case 2:a=t.sent,r=a.data,e.$store.commit("user/getinfo",r.result),e.image="".concat("","/files/").concat(r.result.image),e.account=r.result.account,e.email=r.result.email;case 8:case"end":return t.stop()}}),t)})))()}}),c=o,l=a("2877"),u=a("4d5a"),d=a("e359"),m=a("65c6"),p=a("9c40"),w=a("6ac5"),v=a("9404"),h=a("068f"),g=a("cb32"),b=a("4983"),q=a("1c1c"),f=a("66e5"),x=a("4074"),k=a("0016"),_=a("09e3"),Q=a("714f"),$=a("eebe"),y=a.n($),C=Object(l["a"])(c,r,i,!1,null,null,null);t["default"]=C.exports;y()(C,"components",{QLayout:u["a"],QHeader:d["a"],QToolbar:m["a"],QBtn:p["a"],QToolbarTitle:w["a"],QDrawer:v["a"],QImg:h["a"],QAvatar:g["a"],QScrollArea:b["a"],QList:q["a"],QItem:f["a"],QItemSection:x["a"],QIcon:k["a"],QPageContainer:_["a"]}),y()(C,"directives",{Ripple:Q["a"]})}}]);